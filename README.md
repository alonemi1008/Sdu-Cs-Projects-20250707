# 山东大学密码学课程项目

学号：202200460089  
姓名：米文熙

## 项目列表

### Project1-SM4

SM4分组密码算法的三种优化实现：

* 查表优化（Table-based）
* SIMD向量指令集优化
* AES-NI指令集优化

详细说明请见Project1-SM4/readme.md

### Project2-Watermarked - 数字水印系统

综合数字水印解决方案，集成三种先进算法：

* **LSB空域算法**：最低有效位嵌入，图像质量优秀（79.48 dB）
* **DCT频域算法**：离散余弦变换，平衡质量与鲁棒性（49.30 dB），推荐使用
* **DWT-DCT-SVD算法**：小波变换结合SVD，最强鲁棒性（70%+复杂攻击抵抗）

**核心特性**：

* 模块化设计，算法对比分析
* 智能性能评估（PSNR质量分析、鲁棒性测试）
* 专业可视化展示和攻击效果分析
* 完整的中文文档和本土化界面

详细说明请见Project2-Watermarked/README.md

### Project3-Circom - Poseidon2哈希零知识证明系统

基于Circom和Groth16的Poseidon2哈希算法零知识证明实现：

* **完整的Poseidon2实现**：基于最新Poseidon2规范的哈希算法
* **零知识证明**：使用Groth16证明系统，验证时间400-500毫秒
* **自动化设置**：一键完成电路编译和密钥生成
* **模块化设计**：清晰的代码结构和完整测试

**技术特色**：

* 支持大规模哈希计算的零知识证明
* 完整的演示流程和性能测试
* 详细的过程日志和状态显示
* 完整的中文技术文档

详细说明请见Project3-Circom/README.md

### Project4-SM3 - SM3哈希算法的软件实现与优化

SM3哈希算法的高性能软件实现，通过多种优化技术显著提升执行效率：

* **基础优化版本**：使用宏定义、内存对齐等基础优化技术
* **SIMD指令集优化**：利用AVX2/SSE指令集实现并行计算  
* **多块并行处理**：支持4块数据同时处理，提升吞吐量
* **综合性能测试**：全面对比不同版本的性能表现

**技术亮点**：

* 符合国密SM3标准，通过官方测试向量验证
* SIMD版本相比基础版本可实现1.5-2.8x性能提升
* 跨平台编译支持，提供Windows批处理和Linux Makefile
* 完整的API文档和使用指南

详细说明请见Project4-SM3/README.md

### Project5-SM2 - SM2椭圆曲线密码算法实现

SM2椭圆曲线密码算法的完整实现，包含基础版本和多种优化算法：

* **完整功能实现**：密钥生成、加密解密、数字签名等核心功能
* **多种优化算法**：NAF算法、滑动窗口法、蒙哥马利阶梯等
* **性能优化技术**：预计算表、同时点乘法、快速模逆等
* **全面性能测试**：涵盖所有核心操作的基准测试和统计分析

**技术亮点**：

* 符合SM2国密标准，支持完整的椭圆曲线密码功能
* 优化版本相比基础版本实现2.5-2.7x性能提升
* 包含抗侧信道攻击的安全实现
* 提供详细的API文档和使用指南

详细说明请见Project5-SM2/README.md

## 性能对比

### Project1-SM4算法对比

| 优化方式      | 加密性能 | 特点              |
| --------- | ---- | --------------- |
| 查表优化      | 中等   | 通过预计算S盒和T变换提高效率 |
| SIMD指令集   | 较高   | 使用向量指令并行处理多组数据  |
| AES-NI指令集 | 最高   | 利用Intel专用硬件加速指令 |

### Project2数字水印算法对比

| 算法特性            | LSB算法    | DCT算法 (推荐) | DWT-DCT-SVD算法 |
| --------------- | -------- | ---------- | ------------- |
| **图像质量 (PSNR)** | 79.48 dB | 49.30 dB   | 变化范围          |
| **鲁棒性测试**       | 0% 成功率   | 100% 基础测试  | 70%+ 复杂攻击     |
| **隐蔽性评估**       | 优秀       | 卓越         | 优秀            |
| **计算复杂度**       | 低        | 中等         | 高             |
| **推荐场景**        | 教学演示     | 实际应用       | 高安全需求         |

### Project3零知识证明系统特性

| 特性         | 实现效果      | 技术优势  |
| ---------- | --------- | ----- |
| **证明验证时间** | 400-500ms | 高效验证  |
| **电路编译**   | 自动化设置     | 一键部署  |
| **哈希算法**   | Poseidon2 | 零知识友好 |
| **证明系统**   | Groth16   | 工业级标准 |
| **应用场景**   | 隐私计算      | 区块链应用 |

### Project4-SM3哈希算法对比

| 数据大小 | 基础版本 (MB/s) | SIMD版本 (MB/s) | 加速比  | 特点           |
| ---- | ----------- | ----------- | ---- | ------------ |
| 1KB  | 45.2        | 58.7        | 1.3x | 基础性能验证       |
| 64KB | 156.8       | 234.2       | 1.5x | 中等数据处理       |
| 1MB  | 234.5       | 387.9       | 1.7x | 大数据块处理       |
| 批量处理 | 51.2        | 107.0       | 2.1x | 多块并行，最佳吞吐量优化 |

### Project5-SM2椭圆曲线密码算法对比

| 操作类型 | 基础版本 | 优化版本 | 加速比 | 优化技术 |
|---------|---------|---------|-------|---------|
| **点乘法** | 0.0234s | 0.0089s | 2.63x | NAF算法+滑动窗口 |
| **密钥生成** | 0.0245s | 0.0092s | 2.66x | 预计算表优化 |
| **签名验证** | 0.0456s | 0.0178s | 2.56x | 同时点乘法 |
| **加密操作** | 0.0289s | 0.0112s | 2.58x | 蒙哥马利阶梯 |

## 环境要求

### Project1-SM4

* 支持C++11标准
* 对于SIMD优化，需要支持SSE/AVX指令集
* 对于AES-NI优化，需要Intel处理器并支持AES-NI指令集

### Project2-Watermarked

* Python 3.8+
* OpenCV 4.5+
* NumPy 1.19+
* 支持Windows/Linux/macOS

### Project3-Circom

* Node.js 16+
* npm 8+
* Circom编译器
* snarkjs库
* 支持Windows/Linux/macOS

### Project4-SM3

* **编译器**：GCC 4.9+ 或 Clang 3.6+
* **CPU**：支持SSE4.2指令集的x86_64处理器
* **内存**：至少1GB可用内存
* **操作系统**：Linux、macOS、Windows (MinGW)

### Project5-SM2

* **Python版本**：Python 3.6+
* **标准库**：hashlib, random, time, statistics, json
* **无外部依赖**：纯Python实现
* **操作系统**：跨平台支持

## 快速开始

### 运行SM4算法测试

```bash
cd "Project1-SM4/sm4 with aes-ni"
g++ -O3 -std=c++11 -maes -mavx2 main.cpp sm4.cpp sm4_aesni.cpp -o sm4_aesni.exe
./sm4_aesni.exe
```

### 运行数字水印系统

```bash
cd Project2-Watermarked
pip install -r requirements.txt
python run_demo.py
```

### 运行零知识证明系统

```bash
cd Project3-Circom
npm install
npm run demo
```

### 运行SM3哈希算法

**Linux/macOS环境：**
```bash
cd Project4-SM3/sm3_basic
make test
```

**Windows环境：**
```cmd
cd Project4-SM3\sm3_basic
build.bat
```

### 运行SM2椭圆曲线密码算法

```bash
cd Project5-SM2
python main.py
```

**或选择特定功能：**
```bash
python main.py basic        # 基础功能演示
python main.py optimized    # 优化功能演示
python main.py performance  # 性能对比测试
```

## 技术特色总结

### 密码算法优化 (Project1, Project4 & Project5)
- **多层次优化**：从查表、SIMD到专用指令集的渐进式优化
- **性能提升显著**：SM4算法AES-NI优化效果最佳，SM3算法SIMD优化达到2.8x加速，SM2椭圆曲线算法优化达到2.7x加速
- **工程实用性**：提供跨平台编译支持和完整的性能测试
- **安全性考虑**：SM2实现包含抗侧信道攻击的安全措施

### 数字水印技术 (Project2)
- **算法多样性**：空域、频域、变换域三种技术路线
- **质量与鲁棒性平衡**：DCT算法在实际应用中表现最佳
- **可视化分析**：提供专业的攻击效果分析和性能评估

### 零知识证明应用 (Project3)
- **前沿技术**：基于最新Poseidon2哈希和Groth16证明系统
- **工程化实现**：自动化的电路编译和证明生成流程
- **实用性验证**：400-500ms的验证时间满足实际应用需求

### 综合技术优势
- **理论与实践结合**：从算法原理到工程实现的完整覆盖
- **性能导向**：所有项目都包含详细的性能分析和优化验证
- **文档完善**：提供中文技术文档和使用指南
- **可扩展性**：模块化设计便于后续功能扩展和性能优化

## About

202200460089-米文熙

密码学课程综合项目，涵盖对称密码、哈希函数、椭圆曲线密码、数字水印和零知识证明五个重要方向，展现从经典密码算法优化到前沿零知识证明技术的完整技术栈。

**五大项目技术覆盖**：
- **SM4对称加密算法**：查表、SIMD、AES-NI多层次优化
- **SM3哈希函数**：基础优化与SIMD并行计算
- **SM2椭圆曲线密码**：完整ECC实现与多种优化算法
- **数字水印技术**：空域、频域、变换域三种算法路线
- **零知识证明系统**：基于Groth16的Poseidon2哈希证明 